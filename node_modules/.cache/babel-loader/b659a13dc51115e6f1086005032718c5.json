{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/kamalesh/Downloads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"/home/kamalesh/Downloads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/kamalesh/Downloads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  bottom: 0;\\n  width: 100%;\\n  height: 14%;\\n  padding: 15px;\\n  background-color:#fff;\\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\\n  box-sizing: border-box;\\n  \\n\\n  :focus {\\n    outline: none;\\n  }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nwidth: fit-content;\\ndisplay: flex;\\nflex-direction: column;\\nalign-items: flex-start;\\nfont-size: 16px;\\nmargin-top: 15px;\\nmargin-left: 15px;\\ntext-align: left;\\nmargin-right:10px;\\npadding:5px;\\n\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  width: fit-content;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  font-size: 16px;\\n  margin-top: 15px;\\n  margin-left: 15px;\\n  text-align: left;\\n  margin-right:10px;\\n padding:5px;\\n\\n \\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 100%;\\n  flex-direction: column;\\n  padding: 15px;\\n  color: #454552;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 83%;\\n  max-height: 83%;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  margin-top:5px;\\n  font-weight: 500;\\n  font-size: 20px;\\n  color: white;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 40%;\\n  background-color:#080134;\\n  // height: 100%!important;\\n  @media (max-width:425px){\\n    display: block;\\n    width: 100%;\\n\\n  }\\n \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useState,useRef}from'react';import styled from'styled-components';import socket from'../../socket';import curtain from\"../../curtain.png\";import IMG1 from\"../../IMG1.png\";import IMG2 from\"../../friends_img1.png\";import'./chat.css';var Chat=function Chat(_ref){var display=_ref.display,roomId=_ref.roomId;var currentUser=sessionStorage.getItem('user');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var messagesEndRef=useRef(null);var inputRef=useRef();useEffect(function(){socket.on('FE-receive-message',function(_ref2){var msg=_ref2.msg,sender=_ref2.sender;setMsg(function(msgs){return[].concat(_toConsumableArray(msgs),[{sender:sender,msg:msg}]);});});},[]);// Scroll to Bottom of Message List\nuseEffect(function(){scrollToBottom();},[msg]);var scrollToBottom=function scrollToBottom(){messagesEndRef.current.scrollIntoView({behavior:'smooth'});};var sendMessage=function sendMessage(e){if(e.key==='Enter'){var _msg=e.target.value;if(_msg){socket.emit('BE-send-message',{roomId:roomId,msg:_msg,sender:currentUser});inputRef.current.value='';}}};return/*#__PURE__*/React.createElement(ChatContainer,{className:display?'':'width0'},/*#__PURE__*/React.createElement(\"div\",{className:\"event-full-top\"},/*#__PURE__*/React.createElement(\"img\",{src:curtain,style:{width:'100%'},alt:\"curtain\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"event-content\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center\"},\"This event is currently full.\"),/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center\"},\" \",\"You will be added\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"break-word\"},\"automatically when space\"),\" \",\"is available.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"list\"},/*#__PURE__*/React.createElement(\"button\",{className:\"category_active\"},\" Live Chat \"),/*#__PURE__*/React.createElement(\"button\",{className:\"category\"},\" Host Chat \"),/*#__PURE__*/React.createElement(\"button\",{className:\"category\"},\" Vshop\")),/*#__PURE__*/React.createElement(ChatArea,null,/*#__PURE__*/React.createElement(MessageList,null,msg&&msg.map(function(_ref3,idx){var sender=_ref3.sender,msg=_ref3.msg;if(sender!==currentUser){return/*#__PURE__*/React.createElement(Message,{key:idx},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-user-fig\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:IMG1,alt:\"chat_club IMG 1\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"name_msg\"},/*#__PURE__*/React.createElement(\"strong\",null,sender),/*#__PURE__*/React.createElement(\"p\",null,msg))));}else{return/*#__PURE__*/React.createElement(UserMessage,{key:idx},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-user-fig\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:IMG2,alt:\"chat_club IMG 1\",style:{width:47,height:47}})),/*#__PURE__*/React.createElement(\"div\",{className:\"name_msg\"},/*#__PURE__*/React.createElement(\"strong\",null,sender),/*#__PURE__*/React.createElement(\"p\",null,msg))));}}),/*#__PURE__*/React.createElement(\"div\",{style:{float:'left',clear:'both'},ref:messagesEndRef}))),/*#__PURE__*/React.createElement(BottomInput,{ref:inputRef,onKeyUp:sendMessage,placeholder:\"Enter your message\"}));};var ChatContainer=styled.div(_templateObject());var TopHeader=styled.div(_templateObject2());var ChatArea=styled.div(_templateObject3());var MessageList=styled.div(_templateObject4());var Message=styled.div(_templateObject5());var UserMessage=styled.div(_templateObject6());var BottomInput=styled.input(_templateObject7());export default Chat;","map":{"version":3,"sources":["/home/kamalesh/Downloads/client/src/components/Chat/Chat.js"],"names":["React","useEffect","useState","useRef","styled","socket","curtain","IMG1","IMG2","Chat","display","roomId","currentUser","sessionStorage","getItem","msg","setMsg","messagesEndRef","inputRef","on","sender","msgs","scrollToBottom","current","scrollIntoView","behavior","sendMessage","e","key","target","value","emit","width","map","idx","height","float","clear","ChatContainer","div","TopHeader","ChatArea","MessageList","Message","UserMessage","BottomInput","input"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport socket from '../../socket';\nimport curtain from \"../../curtain.png\";\nimport IMG1 from \"../../IMG1.png\";\nimport IMG2 from \"../../friends_img1.png\";\nimport './chat.css'\nconst Chat = ({ display, roomId }) => {\n  const currentUser = sessionStorage.getItem('user');\n  const [msg, setMsg] = useState([]);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef();\n  \n  useEffect(() => {\n    socket.on('FE-receive-message', ({ msg, sender }) => {\n      setMsg((msgs) => [...msgs, { sender, msg }]);\n    });\n  }, []);\n\n  // Scroll to Bottom of Message List\n  useEffect(() => {scrollToBottom()}, [msg])\n\n  const scrollToBottom = () => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth'});\n  }\n\n  const sendMessage = (e) => {\n    if (e.key === 'Enter') {\n      const msg = e.target.value;\n\n      if (msg) {\n        socket.emit('BE-send-message', { roomId, msg, sender: currentUser });\n        inputRef.current.value = '';\n      }\n    }\n  };\n\n  return (\n    <ChatContainer className={display ? '' : 'width0'}>\n       <div className=\"event-full-top\">\n                  <img src={curtain} style={{width:'100%'}} alt=\"curtain\" />\n                  <div className=\"event-content\">\n                    <h4 className=\"text-center\">\n                      This event is currently full.\n                    </h4>\n                    <h4 className=\"text-center\">\n                      {\" \"}\n                      You will be added{\" \"}\n                      <span className=\"break-word\">\n                        automatically when space\n                      </span>{\" \"}\n                      is available.\n                    </h4>\n                  </div>\n                </div>\n               \n      {/* <TopHeader>Group Chat Room</TopHeader> */}\n      <div className='list'>\n      <button className='category_active'> Live Chat </button>\n      <button className='category'> Host Chat </button>\n      <button className='category'> Vshop</button>\n      </div>\n      \n      <ChatArea>\n        <MessageList>\n          {msg &&\n            msg.map(({ sender, msg }, idx) => {\n              if (sender !== currentUser) {\n                return (\n                  <Message key={idx}>\n                    <div className='chat-user-fig'>\n                  <div>\n                        <img src={IMG1} alt=\"chat_club IMG 1\" />\n                  </div>\n                  <div className='name_msg'>\n                  <strong>{sender}</strong>\n                  <p>{msg}</p>\n                  </div>\n                    \n                    </div>\n                  </Message>\n                );\n              } else {\n                return (\n                  <UserMessage key={idx}>\n                    {/* <strong>{sender}</strong>\n                    <p>{msg}</p> */}\n                      <div className='chat-user-fig'>\n                  <div>\n                        <img src={IMG2} alt=\"chat_club IMG 1\" style={{width:47,height:47}} />\n                  </div>\n                  <div className='name_msg'>\n                  <strong>{sender}</strong>\n                  <p>{msg}</p>\n                  </div>\n                    \n                    </div>\n                  </UserMessage>\n                );\n              }\n            })}\n            <div style={{float:'left', clear: 'both'}} ref={messagesEndRef} />\n        </MessageList>\n      </ChatArea>\n      <BottomInput\n        ref={inputRef}\n        onKeyUp={sendMessage}\n        placeholder=\"Enter your message\"\n      />\n\n    </ChatContainer>\n  );\n};\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 40%;\n  background-color:#080134;\n  // height: 100%!important;\n  @media (max-width:425px){\n    display: block;\n    width: 100%;\n\n  }\n \n`;\n\nconst TopHeader = styled.div`\n  width: 100%;\n  margin-top:5px;\n  font-weight: 500;\n  font-size: 20px;\n  color: white;\n`;\n\nconst ChatArea = styled.div`\n  width: 100%;\n  height: 83%;\n  max-height: 83%;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst MessageList = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  padding: 15px;\n  color: #454552;\n`;\n\nconst Message = styled.div`\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 16px;\n  margin-top: 15px;\n  margin-left: 15px;\n  text-align: left;\n  margin-right:10px;\n padding:5px;\n\n \n`;\n\nconst UserMessage = styled.div`\nwidth: fit-content;\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\nfont-size: 16px;\nmargin-top: 15px;\nmargin-left: 15px;\ntext-align: left;\nmargin-right:10px;\npadding:5px;\n\n`;\n\nconst BottomInput = styled.input`\n  bottom: 0;\n  width: 100%;\n  height: 14%;\n  padding: 15px;\n  background-color:#fff;\n  border-top: 1px solid rgb(69, 69, 82, 0.25);\n  box-sizing: border-box;\n  \n\n  :focus {\n    outline: none;\n  }\n`;\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}